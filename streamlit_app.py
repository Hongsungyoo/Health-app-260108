import streamlit as st
import pandas as pd
import numpy as np
from datetime import datetime, time

# Streamlit í˜ì´ì§€ ì„¤ì •
st.set_page_config(
    page_title="Streamlit ìš”ì†Œ ì™„ë²½ ê°€ì´ë“œ",
    page_icon="ğŸ“š",
    layout="wide"
)

# ============================================================================
# 1. í…ìŠ¤íŠ¸ ë° ì œëª© ìš”ì†Œ
# ============================================================================
st.title("ğŸ“š Streamlit ìš”ì†Œ ì™„ë²½ ê°€ì´ë“œ")  # í˜ì´ì§€ ì œëª© (ê°€ì¥ í° í…ìŠ¤íŠ¸)

st.header("1ï¸âƒ£ í…ìŠ¤íŠ¸ ë° ì œëª© ìš”ì†Œ")  # ì„¹ì…˜ ì œëª©
st.subheader("ë‹¤ì–‘í•œ í…ìŠ¤íŠ¸ í‘œì‹œ ë°©ë²•")  # ì†Œì œëª©

# st.write(): ê°€ì¥ ìœ ì—°í•œ ì¶œë ¥ í•¨ìˆ˜ (í…ìŠ¤íŠ¸, ë°ì´í„°, ì°¨íŠ¸ ë“± ëª¨ë‘ í‘œì‹œ ê°€ëŠ¥)
st.write("ì´ê²ƒì€ st.write()ë¡œ í‘œì‹œí•œ ì¼ë°˜ í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤.")

# st.text(): ìˆœìˆ˜ í…ìŠ¤íŠ¸ë§Œ ì¶œë ¥ (ë§ˆí¬ë‹¤ìš´ í•´ì„ ì•ˆ í•¨)
st.text("ì´ê²ƒì€ st.text()ë¡œ í‘œì‹œí•œ ìˆœìˆ˜ í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤.")

# st.markdown(): ë§ˆí¬ë‹¤ìš´ ë¬¸ë²• ì§€ì›
st.markdown("ì´ê²ƒì€ **êµµì€ í…ìŠ¤íŠ¸**, *ê¸°ìš¸ì„* ë° `ì½”ë“œ`ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.")

# st.code(): ì½”ë“œ ë¸”ë¡ í‘œì‹œ
st.code("""
def hello_world():
    print("Hello, Streamlit!")
""", language="python")

# ============================================================================
# 2. ì•Œë¦¼ ë©”ì‹œì§€ (Info, Success, Warning, Error)
# ============================================================================
st.header("2ï¸âƒ£ ì•Œë¦¼ ë©”ì‹œì§€")

# st.info(): ì •ë³´ì„± ë©”ì‹œì§€ (íŒŒë€ìƒ‰ ë°°ê²½)
st.info("â„¹ï¸ ì´ê²ƒì€ ì •ë³´ì„± ë©”ì‹œì§€ì…ë‹ˆë‹¤. ì‚¬ìš©ìì—ê²Œ ìœ ìš©í•œ ì •ë³´ë¥¼ ì „ë‹¬í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.")

# st.success(): ì„±ê³µ ë©”ì‹œì§€ (ì´ˆë¡ìƒ‰ ë°°ê²½)
st.success("âœ… ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!")

# st.warning(): ê²½ê³  ë©”ì‹œì§€ (ì£¼í™©ìƒ‰ ë°°ê²½)
st.warning("âš ï¸ ì£¼ì˜! ì¤‘ìš”í•œ ê²½ê³  ì‚¬í•­ì„ í‘œì‹œí•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.")

# st.error(): ì—ëŸ¬ ë©”ì‹œì§€ (ë¹¨ê°„ìƒ‰ ë°°ê²½)
st.error("âŒ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")

# ============================================================================
# 3. ì…ë ¥ ìœ„ì ¯ (ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°)
# ============================================================================
st.header("3ï¸âƒ£ ì…ë ¥ ìœ„ì ¯ (ì‚¬ìš©ì ì…ë ¥)")

col1, col2 = st.columns(2)  # 2ê°œ ì—´ë¡œ ë ˆì´ì•„ì›ƒ ë¶„í• 

with col1:
    st.subheader("í…ìŠ¤íŠ¸ ì…ë ¥")
    # st.text_input(): í•œ ì¤„ í…ìŠ¤íŠ¸ ì…ë ¥
    name = st.text_input("ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:", value="í™ê¸¸ë™")
    st.write(f"ì…ë ¥ëœ ì´ë¦„: {name}")
    
    # st.text_area(): ì—¬ëŸ¬ ì¤„ í…ìŠ¤íŠ¸ ì…ë ¥
    feedback = st.text_area("í”¼ë“œë°±ì„ ì‘ì„±í•´ì£¼ì„¸ìš”:", height=100)
    st.write(f"í”¼ë“œë°±: {feedback}")

with col2:
    st.subheader("ìˆ«ì ì…ë ¥")
    # st.number_input(): ìˆ«ì ì…ë ¥
    age = st.number_input("ë‚˜ì´ë¥¼ ì…ë ¥í•˜ì„¸ìš”:", min_value=0, max_value=120, value=25)
    st.write(f"ì…ë ¥ëœ ë‚˜ì´: {age}")
    
    # st.slider(): ìŠ¬ë¼ì´ë”ë¡œ ê°’ ì„ íƒ
    temperature = st.slider("ì˜¨ë„ë¥¼ ì„ íƒí•˜ì„¸ìš” (Â°C):", -50, 50, 20)
    st.write(f"ì„ íƒëœ ì˜¨ë„: {temperature}Â°C")

# st.select_box(): ë“œë¡­ë‹¤ìš´ ë©”ë‰´ì—ì„œ ë‹¨ì¼ ì„ íƒ
st.subheader("ì„ íƒ ìœ„ì ¯")
gender = st.selectbox(
    "ì„±ë³„ì„ ì„ íƒí•˜ì„¸ìš”:",
    ["ë‚¨ì„±", "ì—¬ì„±", "ê¸°íƒ€", "ì„ íƒí•˜ì§€ ì•ŠìŒ"]
)
st.write(f"ì„ íƒëœ ì„±ë³„: {gender}")

# st.multiselect(): ë‹¤ì¤‘ ì„ íƒ (ì—¬ëŸ¬ ê°œ ì„ íƒ ê°€ëŠ¥)
hobbies = st.multiselect(
    "ì·¨ë¯¸ë¥¼ ì„ íƒí•˜ì„¸ìš” (ì—¬ëŸ¬ ê°œ ê°€ëŠ¥):",
    ["ë…ì„œ", "ì˜í™”ê°ìƒ", "ìš´ë™", "í”„ë¡œê·¸ë˜ë°", "ì—¬í–‰", "ìŒì•…"]
)
st.write(f"ì„ íƒëœ ì·¨ë¯¸: {hobbies}")

# st.checkbox(): ì²´í¬ë°•ìŠ¤
agree = st.checkbox("ì•½ê´€ì— ë™ì˜í•©ë‹ˆë‹¤")
st.write(f"ë™ì˜ ì—¬ë¶€: {'ë™ì˜í•¨' if agree else 'ë™ì˜í•˜ì§€ ì•ŠìŒ'}")

# st.radio(): ë¼ë””ì˜¤ ë²„íŠ¼ (í•˜ë‚˜ë§Œ ì„ íƒ ê°€ëŠ¥)
rating = st.radio(
    "ë§Œì¡±ë„ë¥¼ í‰ê°€í•´ì£¼ì„¸ìš”:",
    ["ë§¤ìš° ë§Œì¡±", "ë§Œì¡±", "ë³´í†µ", "ë¶ˆë§Œì¡±", "ë§¤ìš° ë¶ˆë§Œì¡±"]
)
st.write(f"ì„ íƒëœ í‰ê°€: {rating}")

# st.date_input(): ë‚ ì§œ ì„ íƒ
selected_date = st.date_input("ë‚ ì§œë¥¼ ì„ íƒí•˜ì„¸ìš”:", value=datetime.now())
st.write(f"ì„ íƒëœ ë‚ ì§œ: {selected_date}")

# st.time_input(): ì‹œê°„ ì„ íƒ
selected_time = st.time_input("ì‹œê°„ì„ ì„ íƒí•˜ì„¸ìš”:", value=time(12, 0))
st.write(f"ì„ íƒëœ ì‹œê°„: {selected_time}")

# st.color_picker(): ìƒ‰ìƒ ì„ íƒ
selected_color = st.color_picker("ìƒ‰ìƒì„ ì„ íƒí•˜ì„¸ìš”:", value="#00ff00")
st.write(f"ì„ íƒëœ ìƒ‰ìƒ: {selected_color}")

# ============================================================================
# 4. ë²„íŠ¼ ë° ìƒí˜¸ì‘ìš©
# ============================================================================
st.header("4ï¸âƒ£ ë²„íŠ¼ ë° ìƒí˜¸ì‘ìš©")

# st.button(): í´ë¦­ ë²„íŠ¼
if st.button("í´ë¦­í•´ë³´ì„¸ìš”! ğŸ‰"):
    st.write("ë²„íŠ¼ì´ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤!")

# st.form(): ì—¬ëŸ¬ ì…ë ¥ì„ í•œ ë²ˆì— ì²˜ë¦¬
with st.form("my_form"):
    st.write("### íšŒì›ê°€ì… í¼")
    username = st.text_input("ì‚¬ìš©ìëª…:")
    email = st.text_input("ì´ë©”ì¼:")
    password = st.text_input("ë¹„ë°€ë²ˆí˜¸:", type="password")
    
    # st.form_submit_button(): í¼ ì „ì†¡ ë²„íŠ¼
    submitted = st.form_submit_button("ê°€ì…í•˜ê¸°")
    if submitted:
        st.success(f"í™˜ì˜í•©ë‹ˆë‹¤, {username}ë‹˜!")

# ============================================================================
# 5. ë°ì´í„° í‘œì‹œ
# ============================================================================
st.header("5ï¸âƒ£ ë°ì´í„° í‘œì‹œ")

# ìƒ˜í”Œ ë°ì´í„° ìƒì„±
sample_data = pd.DataFrame({
    "ì´ë¦„": ["í™ê¸¸ë™", "ê¹€ì˜í¬", "ì´ìˆœì‹ ", "ê°•ê°ì°¬", "ì„¸ì¢…ëŒ€ì™•"],
    "ë‚˜ì´": [25, 30, 35, 28, 45],
    "ì ìˆ˜": [85, 92, 78, 88, 95]
})

st.subheader("ë°ì´í„°í”„ë ˆì„ í‘œì‹œ")
# st.dataframe(): ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•œ í…Œì´ë¸” (ì •ë ¬, ê²€ìƒ‰ ê°€ëŠ¥)
st.dataframe(sample_data)

# st.table(): ì •ì  í…Œì´ë¸” (ìƒí˜¸ì‘ìš© ë¶ˆê°€)
st.subheader("ì •ì  í…Œì´ë¸”")
st.table(sample_data)

# st.metric(): ì£¼ìš” ì§€í‘œ í‘œì‹œ
st.subheader("ì£¼ìš” ì§€í‘œ (Metric)")
col1, col2, col3 = st.columns(3)
with col1:
    st.metric("í‰ê·  ë‚˜ì´", "32.6ì„¸", "+2.5")
with col2:
    st.metric("ìµœê³  ì ìˆ˜", "95ì ", "+5")
with col3:
    st.metric("í‰ê·  ì ìˆ˜", "87.6ì ", "+1.2")

# ============================================================================
# 6. ì°¨íŠ¸ ë° ì‹œê°í™”
# ============================================================================
st.header("6ï¸âƒ£ ì°¨íŠ¸ ë° ì‹œê°í™”")

# ì°¨íŠ¸ìš© ìƒ˜í”Œ ë°ì´í„°
chart_data = pd.DataFrame(
    np.random.randn(20, 3),
    columns=["A íšŒì‚¬", "B íšŒì‚¬", "C íšŒì‚¬"]
)

# st.line_chart(): ì„  ì°¨íŠ¸
st.subheader("ğŸ“ˆ ì„  ì°¨íŠ¸ (Line Chart)")
st.line_chart(chart_data)

# st.bar_chart(): ë§‰ëŒ€ ì°¨íŠ¸
st.subheader("ğŸ“Š ë§‰ëŒ€ ì°¨íŠ¸ (Bar Chart)")
st.bar_chart(sample_data.set_index("ì´ë¦„")[["ì ìˆ˜"]])

# st.area_chart(): ì˜ì—­ ì°¨íŠ¸
st.subheader("ğŸ—ºï¸ ì˜ì—­ ì°¨íŠ¸ (Area Chart)")
st.area_chart(chart_data)

# ============================================================================
# 7. ë ˆì´ì•„ì›ƒ ë° ì»¨í…Œì´ë„ˆ
# ============================================================================
st.header("7ï¸âƒ£ ë ˆì´ì•„ì›ƒ ë° ì»¨í…Œì´ë„ˆ")

st.subheader("Expander (í¼ì¹  ìˆ˜ ìˆëŠ” ìƒì)")
# st.expander(): í´ë¦­í•˜ë©´ í¼ì³ì§€ëŠ” ì»¨í…Œì´ë„ˆ
with st.expander("ìì„¸í•œ ì •ë³´ ë³´ê¸°"):
    st.write("ì´ê²ƒì€ í¼ì¹  ìˆ˜ ìˆëŠ” ìƒì ì•ˆì˜ ë‚´ìš©ì…ë‹ˆë‹¤.")
    st.write("ì‚¬ìš©ìê°€ í´ë¦­í•  ë•Œë§Œ ë³´ì…ë‹ˆë‹¤.")

st.subheader("Tabs (íƒ­ ë©”ë‰´)")
# st.tabs(): íƒ­ ë©”ë‰´ ìƒì„±
tab1, tab2, tab3 = st.tabs(["íƒ­ 1", "íƒ­ 2", "íƒ­ 3"])

with tab1:
    st.write("ì´ê²ƒì€ íƒ­ 1ì˜ ë‚´ìš©ì…ë‹ˆë‹¤.")
    st.bar_chart({"ê°€": [1, 2, 3], "ë‚˜": [4, 5, 6]})

with tab2:
    st.write("ì´ê²ƒì€ íƒ­ 2ì˜ ë‚´ìš©ì…ë‹ˆë‹¤.")
    st.line_chart({"x": [1, 2, 3], "y": [10, 20, 30]})

with tab3:
    st.write("ì´ê²ƒì€ íƒ­ 3ì˜ ë‚´ìš©ì…ë‹ˆë‹¤.")
    st.write("íƒ­ì„ í´ë¦­í•˜ë©´ ë‹¤ë¥¸ ì½˜í…ì¸ ê°€ í‘œì‹œë©ë‹ˆë‹¤.")

st.subheader("Container (ì»¨í…Œì´ë„ˆ)")
# st.container(): ì—¬ëŸ¬ ìš”ì†Œë¥¼ ê·¸ë£¹í™”
with st.container():
    st.write("ì´ê²ƒì€ ì»¨í…Œì´ë„ˆ ì•ˆì˜ í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤.")
    st.write("ì—¬ëŸ¬ ìš”ì†Œë¥¼ í•¨ê»˜ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")

# ============================================================================
# 8. ì‚¬ì´ë“œë°” (Sidebar)
# ============================================================================
st.header("8ï¸âƒ£ ì‚¬ì´ë“œë°” (Sidebar)")

# st.sidebar: ì™¼ìª½ ì‚¬ì´ë“œë°”ì— ìš”ì†Œ ì¶”ê°€
sidebar_option = st.sidebar.radio(
    "ì‚¬ì´ë“œë°” ë©”ë‰´:",
    ["ì˜µì…˜ 1", "ì˜µì…˜ 2", "ì˜µì…˜ 3"]
)
st.sidebar.write(f"ì„ íƒëœ ì˜µì…˜: {sidebar_option}")

sidebar_slider = st.sidebar.slider(
    "ì‚¬ì´ë“œë°” ìŠ¬ë¼ì´ë”:",
    min_value=0,
    max_value=100,
    value=50
)
st.sidebar.write(f"ìŠ¬ë¼ì´ë” ê°’: {sidebar_slider}")

st.write("ğŸ‘ˆ ì™¼ìª½ ì‚¬ì´ë“œë°”ë¥¼ ë³´ì„¸ìš”!")

# ============================================================================
# 9. ì„¸ì…˜ ìƒíƒœ (Session State)
# ============================================================================
st.header("9ï¸âƒ£ ì„¸ì…˜ ìƒíƒœ (Session State)")
st.write("ì„¸ì…˜ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ë©´ í˜ì´ì§€ ì „ì²´ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ê°’ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")

# st.session_state: ì‚¬ìš©ìë³„ ìƒíƒœ ì €ì¥
if "counter" not in st.session_state:
    st.session_state.counter = 0

col1, col2 = st.columns(2)
with col1:
    if st.button("ì¦ê°€"):
        st.session_state.counter += 1

with col2:
    if st.button("ê°ì†Œ"):
        st.session_state.counter -= 1

st.write(f"### ì¹´ìš´í„°: {st.session_state.counter}")

# ============================================================================
# 10. ë§ˆí¬ë‹¤ìš´ ë° LaTeX
# ============================================================================
st.header("ğŸ”Ÿ ë§ˆí¬ë‹¤ìš´ ë° ìˆ˜ì‹")

st.subheader("ë§ˆí¬ë‹¤ìš´ ì˜ˆì œ")
st.markdown("""
### ë§ˆí¬ë‹¤ìš´ ë¬¸ë²• ì˜ˆì œ
- **êµµì€ í…ìŠ¤íŠ¸**: `**í…ìŠ¤íŠ¸**`
- *ê¸°ìš¸ì„*: `*í…ìŠ¤íŠ¸*`
- `ì½”ë“œ`: `` `ì½”ë“œ` ``
- [ë§í¬](https://www.streamlit.io)

### ìˆ˜í‰ì„ 
---

### ë¦¬ìŠ¤íŠ¸
1. ì²« ë²ˆì§¸
2. ë‘ ë²ˆì§¸
3. ì„¸ ë²ˆì§¸
""")

st.subheader("ìˆ˜ì‹ (LaTeX)")
# st.latex(): ìˆ˜í•™ ìˆ˜ì‹ í‘œì‹œ
st.latex(r"""
a + ar + a r^2 + a r^3 + \cdots + a r^{n-1} = \frac{a(1-r^{n})}{1-r}
""")
